
# ğŸ§­ Campaign Donation Management API

A Django-based microservice for managing user-generated fundraising campaigns, donation tracking, fund allocation transparency, and withdrawal monitoring â€” complete with RESTful APIs and Swagger documentation.

---

## ğŸ“Œ Features

- ğŸ‘¤ User-generated campaign creation and management
- ğŸ”— Multiple placements per campaign (e.g., billboards, web banners)
- ğŸ’¸ Transparent donation tracking via QR or link
- ğŸ“Š Automatic fund allocation with FIFO logic
- ğŸ§¾ Expense tracking per campaign
- âœ… Admin-controlled fund withdrawal system
- ğŸ” Authentication via existing SSO
- ğŸ“‘ Full Swagger & ReDoc API documentation via `drf-yasg`
- âš™ï¸ Designed for microservices using Apache Pulsar for event handling (future-ready)

---

## ğŸš€ Tech Stack

| Layer        | Technology                 |
|-------------|----------------------------|
| Backend      | Django, Django REST Framework |
| Auth         | Existing SSO via JWT or session |
| Messaging    | Apache Pulsar (planned)    |
| Docs         | drf-yasg (Swagger + ReDoc) |
| Database     | PostgreSQL                 |
| Caching      | Redis (optional)           |
| Permissions  | Role-based + ownership checks |

---

## ğŸ“‚ Project Structure (Core)

```bash
.
â”œâ”€â”€ campaigns/
â”‚   â”œâ”€â”€ models.py          # All DB models
â”‚   â”œâ”€â”€ serializers.py     # DRF serializers
â”‚   â”œâ”€â”€ views.py           # Campaign + related views
â”‚   â”œâ”€â”€ urls.py            # API routes
â”‚   â”œâ”€â”€ admin.py           # Admin panel setup
â”‚   â””â”€â”€ templates/
â”‚       â””â”€â”€ homepage.html  # Modern landing page
â”œâ”€â”€ donation_project/
â”‚   â””â”€â”€ urls.py            # Global URLs including Swagger
â””â”€â”€ manage.py
```

---

## âš™ï¸ Getting Started

### 1. Clone the Repo
```bash
git clone https://github.com/yourusername/campaign-donation-api.git
cd campaign-donation-api
```

### 2. Create Virtual Environment
```bash
python -m venv venv
source venv/bin/activate  # or venv\Scripts\activate
```

### 3. Install Dependencies
```bash
pip install -r requirements.txt
```

### 4. Create `.env` and Configure Database
Update your DB credentials inside `.env` or directly in `settings.py`.

### 5. Run Migrations
```bash
python manage.py makemigrations
python manage.py migrate
```

### 6. Create Superuser
```bash
python manage.py createsuperuser
```

### 7. Run the Server
```bash
python manage.py runserver
```

---

## ğŸ” Authentication

This service assumes authentication is handled via your existing SSO layer. All endpoints are protected via:

```python
permission_classes = [IsAuthenticated]
```

---

## ğŸ“š API Documentation

| Type   | URL |
|--------|-----|
| Swagger | [`/swagger/`](http://localhost:8000/swagger/) |
| ReDoc   | [`/redoc/`](http://localhost:8000/redoc/) |
| JSON    | [`/swagger.json`](http://localhost:8000/swagger.json) |

---

## ğŸ› ï¸ Endpoints Overview

| Resource       | Base URL                  | Access                   |
|----------------|---------------------------|--------------------------|
| Campaigns      | `/api/campaigns/`         | UGC - only owner can manage |
| Placements     | `/api/placements/?campaign=<uuid>` | Requires campaign UUID |
| Donations      | `/api/donations/?campaign=<uuid>`  | Requires campaign UUID |
| Expenses       | `/api/expenses/?campaign=<uuid>`   | Requires campaign UUID |
| Allocations    | `/api/allocations/?campaign=<uuid>`| Read-only + UUID filter |
| Withdrawals    | `/api/withdrawals/?campaign=<uuid>`| Requires campaign UUID |

All data access is **scoped per user** except `GET /campaigns/<external_id>/`, which is public.

---

## ğŸŒ± Contribution Guide

### ğŸ§ª Run Tests
```bash
# coming soon - pytest setup
```

### ğŸ”§ Format Code
```bash
black .
```

### ğŸ“ Want to contribute?

1. Fork the project
2. Create your feature branch: `git checkout -b feature/my-awesome-thing`
3. Commit your changes: `git commit -m 'Add some awesome thing'`
4. Push to the branch: `git push origin feature/my-awesome-thing`
5. Open a pull request ğŸš€

---

## ğŸ“ Contact

Maintained by [@yourname](https://github.com/yourname)  
Feel free to open issues or suggest improvements.

---

## ğŸ“„ License

This project is licensed under the [BSD License](https://opensource.org/licenses/BSD-3-Clause).